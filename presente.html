<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Presentes - Victor Hugo & Ana Carolina</title>
<link rel="stylesheet" href="style.css">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body>
<header>
<h1 class="casal">Victor Hugo & Ana Carolina</h1>
</header>


<section class="card">
<h2>Lista de Presentes</h2>

<p> Lembrando que aceitamos qualquer valor em dinheiro também, para ajudar na nossa lua de mel e na construção do nosso lar! (Chave pix no final da página) </p>

<div class="presentes-grid">
<div class="presente-card" data-id="gift-1" data-price="400.00">
<img src="presente1.jpg" alt="Jogo de panelas">
<h3>Jogo de panelas</h3>
<p>para a esposa não queimar a comida</p>
<p class="valor">R$ 400,00</p>
<button class="add-to-cart btn">Adicionar ao carrinho</button>
</div>

<div class="presente-card" data-id="gift-2" data-price="100.00">
<img src="presente2.jpg" alt="Calcinhas novas para a noiva">
<h3>Calcinhas novas para a noiva</h3>
<p class="valor">R$ 100,00</p>
<button class="add-to-cart btn">Adicionar ao carrinho</button>
</div>

<div class="presente-card" data-id="gift-3" data-price="60.00">
<img src="presente3.jpg" alt="Jogo de copos">
<h3>Jogo de copos</h3>
<p>para não precisar usar copo descartável e poluir o planeta. </p>
<p class="valor">R$ 60,00</p>
<button class="add-to-cart btn">Adicionar ao carrinho</button>
</div>

<div class="presente-card" data-id="gift-4" data-price="60.00">
<img src="presente4.jpg" alt="Jogo de Taças">
<h3>Presente de coração </h3>
<p>Esse é para quem quer presentear com qualquer valor. </p>
<p class="valor">R$ 60,00</p>
<button class="add-to-cart btn">Adicionar ao carrinho</button>
</div>

<div class="presente-card" data-id="gift-5" data-price="350.00">
<img src="presente5.png" alt="Presente 5">
<h3>Kit suplemento</h3>
<p>para o noivo ficar cada vez mais forte. </p>
<p class="valor">R$ 350,00</p>
<button class="add-to-cart btn">Adicionar ao carrinho</button>
</div>

<div class="presente-card" data-id="gift-6" data-price="150.00">
<img src="presente6.png" alt="Presente 6">
<h3>Relógio para a noiva</h3>
<p>para ela parar de se atrasar. </p>
<p class="valor">R$ 150,00</p>
<button class="add-to-cart btn">Adicionar ao carrinho</button>
</div>

<div class="presente-card" data-id="gift-7" data-price="150.00">
<img src="presente7.jpg" alt="Presente 7">
<h3>Kit facas </h3>
<p class="valor">R$ 150,00</p>
<button class="add-to-cart btn">Adicionar ao carrinho</button>
</div>

<div class="presente-card" data-id="gift-8" data-price="50.00">
<img src="presente8.jpg" alt="Presente 8">
<h3>Tampão de ouvido </h3>
<p>para a noiva não escutar o noivo cantando no banho  </p>
<p class="valor">R$ 50,00</p>
<button class="add-to-cart btn">Adicionar ao carrinho</button>
</div>

<div class="presente-card" data-id="gift-9" data-price="1200.00">
<img src="presente9.jpg" alt="Presente 9">
<h3>Cama para dormir e fabricar os mini Toruguinhos!</h3>
<p>(auto-explicativo) </p>
<p class="valor">R$ 1200,00</p>
<button class="add-to-cart btn">Adicionar ao carrinho</button>
</div>

<div class="presente-card" data-id="gift-10" data-price="400.00">
<img src="presente10.png" alt="Presente 10">
<h3>Jogos de cama</h3>
<p>Para o casal e futura manada</p>
<p class="valor">R$ 400,00</p>
<button class="add-to-cart btn">Adicionar ao carrinho</button>
</div>

<div class="presente-card" data-id="gift-11" data-price="200.00">
<img src="presente11.jpg" alt="Presente 11">
<h3>Pegar buquê</h3>
<p>Vamos mirar o buquê em você (para quem precisa casar ou ama muito o casal)</p>
<p class="valor">R$ 200,00</p>
<button class="add-to-cart btn">Adicionar ao carrinho</button>
</div>

<div class="presente-card" data-id="gift-12" data-price="700.00">
<img src="presente12.jpg" alt="Presente 12">
<h3>Microondas</h3>
<p>Para facilitar a vida corrida do casal </p>
<p class="valor">R$ 700,00</p>
<button class="add-to-cart btn">Adicionar ao carrinho</button>
</div>

<div class="presente-card" data-id="gift-13" data-price="400.00">
<img src="presente13.jpg" alt="Presente 13">
<h3>Air Fryer</h3>
<p>!Utilidade Pública! Para ajudar na dieta e usar menos oleo. #vivafitness   </p>
<p class="valor">R$ 400,00</p>
<button class="add-to-cart btn">Adicionar ao carrinho</button>
</div>

<div class="presente-card" data-id="gift-14" data-price="2500.00">
<img src="presente14.png" alt="Presente 14">
<h3>Viagem de lua de mel</h3>
<p>Para quem quiser fazer da gente o casal mais feliz do mundo, esse é pra você! </p>
<p class="valor">R$ 2.500,00</p>
<button class="add-to-cart btn">Adicionar ao carrinho</button>
</div>

<div class="presente-card" data-id="gift-15" data-price="100.00">
<img src="presente15.png" alt="Presente 15">
<h3>Cuecas novas para o noivo</h3>
<p>Nada a declarar kkkkkk </p>
<p class="valor">R$ 100,00</p>
<button class="add-to-cart btn">Adicionar ao carrinho</button>
</div>

<div class="presente-card" data-id="gift-16" data-price="1500.00">
<img src="presente16.jpg" alt="Presente 16">
<h3>Televisão</h3>
<p>Para o noivo se irritar com o coringao</p>
<p class="valor">R$ 1.500,00</p>
<button class="add-to-cart btn">Adicionar ao carrinho</button>
</div>

<div class="presente-card" data-id="gift-17" data-price="1900.00">
<img src="presente17.jpg" alt="Presente 17">
<h3>2 anos de Pe. Paulo</h3>
<p>2 anos de assinatura do site do Pe. Paulo Ricardo</p>
<p class="valor">R$ 1.900,00</p>
<button class="add-to-cart btn">Adicionar ao carrinho</button>
</div>


<div class="presente-card" data-id="gift-18" data-price="400.00">
<img src="kitFerramenta.jpeg" alt="Presente 18">
<h3>Kit de Ferramentas</h3>
<p>Para não precisarem chamar um marido de aluguel</p>
<p class="valor">R$ 400,00</p>
<button class="add-to-cart btn">Adicionar ao carrinho</button>
</div>
</div>

<!-- Mini carrinho flutuante -->
<div id="mini-cart" class="mini-cart">
  <div id="mini-cart-summary">Carrinho: <span id="cart-count">0</span> itens — <span id="cart-total">R$ 0,00</span> <br> <a href="compra.html" class="btn">Ver carrinho</a></div>
</div>

<br>
<br>

<a class="btn" href="index.html">← Voltar para a Home</a>
</section>

<script>
  function parsePrice(text) {
    if (!text) return 0;
    const cleaned = text.replace(/[R$\s\.]/g, '').replace(',', '.');
    return parseFloat(cleaned) || 0;
  }

  function formatBRL(value) {
    return value.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });
  }

  function getCart() {
    try { return JSON.parse(localStorage.getItem('cart') || '[]'); } catch (e) { return []; }
  }

  function saveCart(cart) { localStorage.setItem('cart', JSON.stringify(cart)); }

  function updateMiniCart() {
    const cart = getCart();
    const count = cart.length;
    const total = cart.reduce((s, i) => s + Number(i.price), 0);
    document.getElementById('cart-count').textContent = count;
    document.getElementById('cart-total').textContent = formatBRL(total);
  }

  document.addEventListener('DOMContentLoaded', function() {
    // esconder presentes que já estão no carrinho
    const cart = getCart();
    const idsInCart = new Set(cart.map(i => i.id));
    document.querySelectorAll('.presente-card').forEach(card => {
      const id = card.dataset.id;
      if (id && idsInCart.has(id)) card.remove();
    });

    updateMiniCart();

    document.querySelectorAll('.add-to-cart').forEach(btn => {
      btn.addEventListener('click', function(e) {
        const card = e.target.closest('.presente-card');
        if (!card) return;
        const id = card.dataset.id || ('gift-' + Date.now());
        const title = card.querySelector('h3')?.textContent || 'Presente';
        const priceText = card.querySelector('.valor')?.textContent || '';
        const price = parsePrice(priceText);
        const img = card.querySelector('img')?.getAttribute('src') || '';

        const cart = getCart();
        cart.push({ id, title, price, img });
        saveCart(cart);

        card.remove();
        updateMiniCart();
      });
    });
  });
</script>

</body>
</html>